<!DOCTYPE html>
<html class="no-js" lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Customize Gerrit Homepage">
    <meta name="author" content="Yaming Huang">

    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Customize Gerrit Homepage &middot; 临水轩志</title>

   	
    
        <link rel="stylesheet" href="https://yumminhuang.github.io/css/theme/yeti.css">
    

    <link rel="stylesheet" href="https://yumminhuang.github.io/css/font-awesome.min.css">

   	
   	<link rel="stylesheet" href="https://yumminhuang.github.io/css/style.css">
    <link rel="stylesheet" href="https://yumminhuang.github.io/css/syntax.css">


    
    <script src="https://yumminhuang.github.io/js/jquery.min-2.2.4.js"></script>
    <script src="https://yumminhuang.github.io/js/bootstrap.min-3.3.7.js"></script>

    
    <link href="" rel="alternate" type="application/rss+xml" title="临水轩志" />
</head>
<body lang="en">
    
    <div class="container">
    <div class="row">
        <div class="navbar navbar-default navbar-inverse" role="navigation">
            <div class="navbar-header">
                <a class="navbar-brand" href="https://yumminhuang.github.io">临水轩志</a>
            </div>
            <div class="navbar-collapse collapse navbar-responsive-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://yumminhuang.github.io">首页</a></li>
                    <li><a href="https://yumminhuang.github.io/post/">技术笔记</a></li>
                    
                      <li><a href="/note/"> TechNote </a></li>
                    
                      <li><a href="/page/about/"> 关于 </a></li>
                    
                      <li><a href="/zhpost/"> 随笔 </a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>



<div class="container">
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <h3>Customize Gerrit Homepage</h3>
                <span class="label label-primary">Sat, Dec 3, 2016</span> in
                
                    
                    <a href="/categories/gerrit">Gerrit</a>
                 using tags
                
                    
                    <a href="/tags/gerrit">Gerrit</a>
                
            </small>
        </div>
    </div>
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <br>
            

<h1 id="customized-homepage">Customized Homepage</h1>

<p>To customize Gerrit homepage, we added the following files:</p>

<ul>
<li><code>$site_path/etc/GerritSiteHeader.html</code> HTML is inserted below the menu bar, but above any page content. This is a good location for an organizational logo.</li>
<li><code>$site_path/etc/GerritSiteFooter.html</code> HTML is inserted at the bottom of the page, below all other content. Display links to FAQ, user guides, etc.</li>
<li><code>$site_path/etc/GerritSite.css</code> The customized CSS rules are inlined into the top of the HTML page.</li>
<li><code>$site_path/static/logo.cache.png</code> The Logo picture.</li>
</ul>

<p>For more details about how they work, please see <a href="https://gerrit-review.googlesource.com/Documentation/config-themes.html">official documents</a>.</p>

<h2 id="examples">Examples</h2>

<ul>
<li><code>GerritSiteHeader.html</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">&lt;<span class="s7e2">div</span>&gt;
  &lt;<span class="s7e2">div</span> <span class="s7d1">id</span><span class="sfa0">=</span><span class="sc1c">&#34;logo&#34;</span>&gt;&lt;<span class="s7e2">a</span> <span class="s7d1">href</span><span class="sfa0">=</span><span class="sc1c">&#34;#/&#34;</span>&gt;&lt;<span class="s7e2">img</span> <span class="s7d1">src</span><span class="sfa0">=</span><span class="sc1c">&#34;static/logo.cache.png&#34;</span> <span class="s7d1">height</span><span class="sfa0">=</span><span class="sc1c">&#34;41&#34;</span> <span class="s7d1">width</span><span class="sfa0">=</span><span class="sc1c">&#34;32&#34;</span>/&gt;&lt;/<span class="s7e2">a</span>&gt;&lt;/<span class="s7e2">div</span>&gt;
  <span class="s1770">&lt;!-- Add more contents if necessary
</span><span class="s1770">  &lt;p id=&#34;customized_paragraph&#34;&gt;&lt;strong&gt;NOTICE&lt;/strong&gt;&lt;/p&gt;
</span><span class="s1770">  &lt;ol&gt;
</span><span class="s1770">  &lt;li&gt;Maintain/Shutdown Announcements&lt;/li&gt;
</span><span class="s1770">  &lt;li&gt;New Features&lt;/li&gt;
</span><span class="s1770">  &lt;/ol&gt;
</span><span class="s1770">  &lt;p id=&#34;customized_paragraph&#34;&gt;2016/11/10&lt;/p&gt;
</span><span class="s1770">  --&gt;</span>
&lt;/<span class="s7e2">div</span>&gt;</code></pre>
</div>
<ul>
<li><code>GerritSiteFooter.html</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html">&lt;<span class="s7e2">div</span>&gt;
  &lt;<span class="s7e2">ul</span>&gt;
  &lt;<span class="s7e2">li</span>&gt;&lt;<span class="s7e2">a</span> <span class="s7d1">href</span><span class="sfa0">=</span><span class="sc1c">&#34;https://www.mediawiki.org/wiki/Git_and_Gerrit_FAQ&#34;</span> <span class="s7d1">target</span><span class="sfa0">=</span><span class="sc1c">&#34;_blank&#34;</span>&gt;Frequently Asked Questions&lt;/<span class="s7e2">a</span>&gt;&lt;/<span class="s7e2">li</span>&gt;
  &lt;<span class="s7e2">li</span>&gt;&lt;<span class="s7e2">a</span> <span class="s7d1">href</span><span class="sfa0">=</span><span class="sc1c">&#34;https://www.mediawiki.org/wiki/Gerrit/Tutorial&#34;</span> <span class="s7d1">target</span><span class="sfa0">=</span><span class="sc1c">&#34;_blank&#34;</span>&gt;Setup Gerrit&lt;/<span class="s7e2">a</span>&gt;&lt;/<span class="s7e2">li</span>&gt;
  &lt;/<span class="s7e2">ul</span>&gt;
  &lt;<span class="s7e2">p</span> <span class="s7d1">id</span><span class="sfa0">=</span><span class="sc1c">&#34;customized_paragraph&#34;</span>&gt;If you have any problem, please contact &lt;<span class="s7e2">a</span> <span class="s7d1">href</span><span class="sfa0">=</span><span class="sc1c">&#34;mailto:email@example.com&#34;</span> <span class="s7d1">target</span><span class="sfa0">=</span><span class="sc1c">&#34;_blank&#34;</span>&gt;DevOps Team&lt;/<span class="s7e2">a</span>&gt;&lt;/<span class="s7e2">p</span>&gt;
<span class="s1770">&lt;!-- Add Piwik if necessary --&gt;</span>
&lt;/<span class="s7e2">div</span>&gt;</code></pre>
</div>
<ul>
<li><code>GerritSite.css</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-css" data-lang="css">#<span class="s7dd">logo</span> {
  <span class="s3e8">display</span>: <span class="s3e8">block</span> <span class="s17d4">!important</span>;
  <span class="s3e8">margin-bottom</span>: <span class="sc80">-55</span><span class="s3ee">px</span>;
  <span class="s3e8">padding-left</span>: <span class="sc80">20</span><span class="s3ee">px</span>;
  <span class="s3e8">position</span>: <span class="s3e8">relative</span>;
  <span class="s3e8">top</span>: <span class="sc80">-50</span><span class="s3ee">px</span>;
  <span class="s3e8">width</span>: <span class="sc80">60</span><span class="s3ee">px</span>;
}
#<span class="s7dd">gerrit_topmenu</span> {
  <span class="s3e8">left</span>: <span class="sc80">55</span><span class="s3ee">px</span>;
  <span class="s3e8">margin-right</span>: <span class="sc80">55</span><span class="s3ee">px</span>;
  <span class="s3e8">margin-bottom</span>: <span class="sc80">5</span><span class="s3ee">px</span>;
  <span class="s3e8">position</span>: <span class="s3e8">relative</span>;
}
#<span class="s7dd">customized_paragraph</span> {
  <span class="s3e8">padding-left</span>: <span class="sc80">10</span><span class="s3ee">px</span>;
}</code></pre>
</div>
<h1 id="update-homepage">Update Homepage</h1>

<p><strong>NOTICE</strong>: There is no need to restart Gerrit after updating HTML/CSS. The homepage will work immediately after putting HTML/CSS files in <code>$site_path/etc</code> directory.</p>

<p>We use Ansible to deploy Gerrit. Here are examples that how to update HTML/CSS files by Ansible command.</p>

<ul>
<li>Adding <code>GerritSiteHeader.html</code> to Gerrit</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">ansible production -i hosts <span class="sfa0">[</span>-l &lt;single-gerrit-host&gt;<span class="sfa0">]</span> -m copy -s -a <span class="sc1c">&#39;src=GerritSiteHeader.html dest=/site_path/etc owner=gerrit2 group=gerrit2 mode=0644&#39;</span> -v</code></pre>
</div>
<ul>
<li>Removing <code>GerritSiteFooter.html</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">ansible production -i hosts <span class="sfa0">[</span>-l &lt;single-gerrit-host&gt;<span class="sfa0">]</span> -m file -s -a <span class="sc1c">&#39;dest=/site_path/etc state=absent&#39;</span> -v</code></pre>
</div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <hr>
        </div>
    </div>
</div>

    <div class="container">
        <div class="row col-md-12">
            <footer>
                <div class="pull-left">
                    <p>
                        &copy; 2017 ~ Yaming Huang ~ Powered By <a href="http://gohugo.io/">Hugo</a> ~ <a href="https://yumminhuang.github.io/page/license">License</a>
                    </p>
                </div>

                
                <div class="pull-right">
                    
                        <a href="https://www.linkedin.com/in/yaming-huang-6a09325b" target="_blank">
                        <i class="fa fa-linkedin fa-2x"></i></a>
                    
                    
                    
                        <a href="https://github.com/yumminhuang" target="_blank">
                        <i class="fa fa-github fa-2x"></i></a>
                    
                    
                        <a href="https://instagram.com/yumminhuang/" target="_blank">
                        <i class="fa fa-instagram fa-2x"></i></a>
                    
                    
                        <a href="https://twitter.com/yumminhuang" target="_blank">
                        <i class="fa fa-twitter fa-2x"></i></a>
                    
                    
                        <a href="http://weibo.com/yumminhuang" target="_blank">
                        <i class="fa fa-weibo fa-2x"></i></a>
                    
                    
                </div>
            </footer>
        </div>
    </div>

    
    </body>
</html>

