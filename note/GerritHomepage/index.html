<!DOCTYPE html>
<html class="no-js" lang="en-us" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Customize Gerrit Homepage">
    <meta name="author" content="Yaming Huang">

    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Customize Gerrit Homepage &middot; 临水轩志</title>

   	
    
        <link rel="stylesheet" href="https://yumminhuang.github.io/css/theme/yeti.css">
    

    <link rel="stylesheet" href="https://yumminhuang.github.io/css/font-awesome.min.css">

   	
   	<link rel="stylesheet" href="https://yumminhuang.github.io/css/style.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/default.min.css">


    
    <script src="https://yumminhuang.github.io/js/jquery.min-2.1.4.js"></script>
    <script src="https://yumminhuang.github.io/js/bootstrap.min-3.3.5.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    <link href="" rel="alternate" type="application/rss+xml" title="临水轩志" />
</head>
<body lang="en">
    
    <div class="container">
    <div class="row">
        <div class="navbar navbar-default navbar-inverse" role="navigation">
            <div class="navbar-header">
                <a class="navbar-brand" href="https://yumminhuang.github.io">临水轩志</a>
            </div>
            <div class="navbar-collapse collapse navbar-responsive-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://yumminhuang.github.io">首页</a></li>
                    <li><a href="https://yumminhuang.github.io/post/">技术笔记</a></li>
                    
                      <li><a href="/note/"> TechNote </a></li>
                    
                      <li><a href="/page/about/"> 关于 </a></li>
                    
                      <li><a href="/zhpost/"> 随笔 </a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>



<div class="container">
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <h3>Customize Gerrit Homepage</h3>
                <span class="label label-primary">Sat, Dec 3, 2016</span> in
                
                    
                    <a href="/categories/gerrit">Gerrit</a>
                 using tags
                
                    
                    <a href="/tags/gerrit">Gerrit</a>
                
            </small>
        </div>
    </div>
    <div class="row">
        <div class="col-md-offset-1 col-md-10">
            <br>
            

<h1 id="customized-homepage">Customized Homepage</h1>

<p>To customize Gerrit homepage, we added the following files:</p>

<ul>
<li><code>$site_path/etc/GerritSiteHeader.html</code> HTML is inserted below the menu bar, but above any page content. This is a good location for an organizational logo.</li>
<li><code>$site_path/etc/GerritSiteFooter.html</code> HTML is inserted at the bottom of the page, below all other content. Display links to FAQ, user guides, etc.</li>
<li><code>$site_path/etc/GerritSite.css</code> The customized CSS rules are inlined into the top of the HTML page.</li>
<li><code>$site_path/static/logo.cache.png</code> The Logo picture.</li>
</ul>

<p>For more details about how they work, please see <a href="https://gerrit-review.googlesource.com/Documentation/config-themes.html">official documents</a>.</p>

<h2 id="examples">Examples</h2>

<ul>
<li><code>GerritSiteHeader.html</code></li>
</ul>

<pre><code>&lt;div&gt;
  &lt;div id=&quot;logo&quot;&gt;&lt;a href=&quot;#/&quot;&gt;&lt;img src=&quot;static/logo.cache.png&quot; height=&quot;41&quot; width=&quot;32&quot;/&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;!-- Add more contents if necessary
  &lt;p id=&quot;customized_paragraph&quot;&gt;&lt;strong&gt;NOTICE&lt;/strong&gt;&lt;/p&gt;
  &lt;ol&gt;
  &lt;li&gt;Maintain/Shutdown Announcements&lt;/li&gt;
  &lt;li&gt;New Features&lt;/li&gt;
  &lt;/ol&gt;
  &lt;p id=&quot;customized_paragraph&quot;&gt;2016/11/10&lt;/p&gt;
  --&gt;
&lt;/div&gt;
</code></pre>

<ul>
<li><code>GerritSiteFooter.html</code></li>
</ul>

<pre><code>&lt;div&gt;
  &lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.mediawiki.org/wiki/Git_and_Gerrit_FAQ&quot; target=&quot;_blank&quot;&gt;Frequently Asked Questions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.mediawiki.org/wiki/Gerrit/Tutorial&quot; target=&quot;_blank&quot;&gt;Setup Gerrit&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;p id=&quot;customized_paragraph&quot;&gt;If you have any problem, please contact &lt;a href=&quot;mailto:email@example.com&quot; target=&quot;_blank&quot;&gt;DevOps Team&lt;/a&gt;&lt;/p&gt;
&lt;!-- Add Piwik if necessary --&gt;
&lt;/div&gt;
</code></pre>

<ul>
<li><code>GerritSite.css</code></li>
</ul>

<pre><code>#logo {
  display: block !important;
  margin-bottom: -55px;
  padding-left: 20px;
  position: relative;
  top: -50px;
  width: 60px;
}
#gerrit_topmenu {
  left: 55px;
  margin-right: 55px;
  margin-bottom: 5px;
  position: relative;
}
#customized_paragraph {
  padding-left: 10px;
}
</code></pre>

<h1 id="update-homepage">Update Homepage</h1>

<p><strong>NOTICE</strong>: There is no need to restart Gerrit after updating HTML/CSS. The homepage will work immediately after putting HTML/CSS files in $site_path/etc directory.</p>

<p>We use Ansible to deploy Gerrit. Here are examples that how to update HTML/CSS files by Ansible command.</p>

<ul>
<li>Adding <code>GerritSiteHeader.html</code> to Gerrit</li>
</ul>

<pre><code>ansible production -i hosts [-l &lt;single-gerrit-host&gt;] -m copy -s -a 'src=GerritSiteHeader.html dest=/site_path/etc owner=gerrit2 group=gerrit2 mode=0644' -v
</code></pre>

<ul>
<li>Removing <code>GerritSiteFooter.html</code></li>
</ul>

<pre><code>ansible production -i hosts [-l &lt;single-gerrit-host&gt;] -m file -s -a 'dest=/site_path/etc state=absent' -v
</code></pre>

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <hr>
        </div>
    </div>
</div>

    <div class="container">
        <div class="row col-md-12">
            <footer>
                <div class="pull-left">
                    <p>
                        &copy; 2016 ~ Yaming Huang ~ Powered By <a href="http://hugo.spf13.com">Hugo</a> ~ <a href="https://yumminhuang.github.io/page/license">License</a>
                    </p>
                </div>

                
                <div class="pull-right">
                    
                        <a href="https://www.linkedin.com/in/yaming-huang-6a09325b" target="_blank">
                        <i class="fa fa-linkedin fa-2x"></i></a>
                    
                    
                    
                        <a href="https://github.com/yumminhuang" target="_blank">
                        <i class="fa fa-github-square fa-2x"></i></a>
                    
                    
                        <a href="https://instagram.com/yumminhuang/" target="_blank">
                        <i class="fa fa-instagram fa-2x"></i></a>
                    
                    
                        <a href="https://twitter.com/yumminhuang" target="_blank">
                        <i class="fa fa-twitter-square fa-2x"></i></a>
                    
                    
                        <a href="http://weibo.com/yumminhuang" target="_blank">
                        <i class="fa fa-weibo fa-2x"></i></a>
                    
                    
                </div>
            </footer>
        </div>
    </div>

    
    </body>
</html>

